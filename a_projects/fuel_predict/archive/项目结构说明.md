# 船舶油耗预测系统 - 项目结构说明

## 📁 目录结构

```
fuel_predict/
├── src/                          # 源代码模块
│   ├── __init__.py              # 包初始化文件
│   ├── data_analyzer.py         # 数据分析模块
│   ├── cp_clause_definitions.py # CP条款定义和行业标准
│   ├── feature_engineering.py   # 特征工程模块
│   ├── fuel_prediction_models.py# 预测模型核心
│   └── model_validation.py      # 模型验证模块
├── data/                         # 数据文件
│   └── 油耗数据ALL（0804）.csv   # 原始训练数据
├── models/                       # 训练好的模型
│   └── fuel_prediction_models.pkl# 预测模型文件
├── reports/                      # 分析和验证报告
│   ├── analysis_report.md       # 数据分析报告
│   ├── model_report.md          # 模型性能报告
│   ├── validation_report.md     # 模型验证报告
│   └── 项目总结.md              # 项目总结报告
├── docs/                         # 项目文档
│   ├── README.md                # 项目说明文档
│   └── requirements.txt         # 依赖包列表
├── outputs/                      # 输出文件
│   ├── analysis_dashboard.png   # 数据分析可视化
│   ├── validation_dashboard.png # 模型验证可视化
│   └── evaluation_results.json  # 模型评估结果
├── examples/                     # 使用示例
│   ├── usage_examples.py        # API使用示例
│   └── demo.py                  # 功能演示脚本
├── tests/                        # 测试文件（待添加）
├── main.py                      # 主程序入口
└── 项目结构说明.md              # 本文件
```

## 📋 模块功能说明

### 🔧 核心源码模块 (`src/`)

#### 1. `data_analyzer.py` - 数据分析模块
- **功能**: 船舶油耗数据的统计分析和可视化
- **主要类**: `ShipFuelDataAnalyzer`
- **核心功能**:
  - 基础统计信息分析
  - 船型特征分析
  - 速度与油耗关系分析
  - 载重状态影响分析
  - 可视化仪表板生成

#### 2. `cp_clause_definitions.py` - CP条款定义
- **功能**: 国际航运CP条款标准和行业规范
- **主要类**: `CPClauseCalculator`, `ShipType`, `LoadCondition`
- **核心功能**:
  - 船舶类型和载重状态枚举
  - 保证航速和保证油耗计算
  - 性能偏差分析
  - 行业标准分类

#### 3. `feature_engineering.py` - 特征工程
- **功能**: 基于航运行业知识的特征提取和工程化
- **主要类**: `ShipFuelFeatureEngineer`
- **核心功能**:
  - 基础特征提取（时间、性能、船舶特征）
  - 高级特征构建（海军系数、相对性能）
  - 特征编码和标准化
  - 特征选择和多项式特征

#### 4. `fuel_prediction_models.py` - 预测模型
- **功能**: 多船型油耗预测模型的训练和预测
- **主要类**: `MultiShipTypePredictor`, `ShipTypePredictor`
- **核心功能**:
  - 分船型专业模型训练
  - 多算法对比选择
  - 全局模型备选
  - 模型保存和加载

#### 5. `model_validation.py` - 模型验证
- **功能**: 全面的模型性能验证和评估
- **主要类**: `ModelValidator`
- **核心功能**:
  - 基础性能指标计算
  - 分船型性能分析
  - 残差分析和业务验证
  - 验证可视化

### 📊 数据文件 (`data/`)
- `油耗数据ALL（0804）.csv`: 包含57,750条船舶油耗记录的原始数据

### 🤖 模型文件 (`models/`)
- `fuel_prediction_models.pkl`: 训练好的预测模型（99MB），包含9个船型专用模型

### 📈 报告文件 (`reports/`)
- `analysis_report.md`: 详细的数据分析报告
- `model_report.md`: 模型性能和特征重要性报告
- `validation_report.md`: 模型验证结果报告
- `项目总结.md`: 完整的项目成果总结

### 📚 文档文件 (`docs/`)
- `README.md`: 完整的项目使用指南和API文档
- `requirements.txt`: Python依赖包列表

### 📊 输出文件 (`outputs/`)
- `analysis_dashboard.png`: 数据分析可视化仪表板
- `validation_dashboard.png`: 模型验证可视化图表
- `evaluation_results.json`: 详细的模型评估结果

### 💡 示例代码 (`examples/`)
- `usage_examples.py`: 完整的API使用示例和功能演示
- `demo.py`: 系统功能快速演示脚本

## 🚀 快速使用指南

### 1. 环境准备
```bash
pip install -r docs/requirements.txt
```

### 2. 数据分析
```python
from src.data_analyzer import ShipFuelDataAnalyzer
analyzer = ShipFuelDataAnalyzer('data/油耗数据ALL（0804）.csv')
analyzer.load_data()
```

### 3. 模型预测
```python
from examples.usage_examples import FuelConsumptionPredictor
predictor = FuelConsumptionPredictor('models/fuel_prediction_models.pkl')
```

### 4. 完整演示
```bash
python examples/demo.py
```

### 5. 系统运行
```bash
python main.py
```

## 🔄 开发工作流

1. **数据分析**: 使用 `src/data_analyzer.py` 分析新数据
2. **特征工程**: 通过 `src/feature_engineering.py` 提取特征
3. **模型训练**: 使用 `src/fuel_prediction_models.py` 训练模型
4. **模型验证**: 通过 `src/model_validation.py` 验证性能
5. **应用部署**: 使用 `examples/usage_examples.py` 的API接口

## 📋 文件大小统计

| 类别 | 文件数 | 总大小 |
|------|-------|--------|
| 源码模块 | 6个 | ~102KB |
| 数据文件 | 1个 | ~8.4MB |
| 模型文件 | 1个 | ~99MB |
| 报告文档 | 7个 | ~27KB |
| 输出图表 | 3个 | ~2.3MB |

## 🎯 核心优势

- **模块化设计**: 清晰的功能分离，易于维护和扩展
- **专业性强**: 深度融合航运行业知识和CP条款标准
- **完整性好**: 从数据分析到模型部署的全流程覆盖
- **可扩展性**: 支持新船型、新特征和新算法的添加
- **实用性强**: 提供完整的API接口和使用示例

这个项目结构确保了代码的可维护性、可扩展性和专业性，为航运行业提供了一个完整的油耗预测解决方案。
